import{r as c,j as e,M as ne,R as te,F as se,a as U,l as q,i as Y,b as Q,c as X,d as re}from"./vendor-Crur0c74.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function m(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();const A=c.createContext({selectionStudy:null,selectionSemester:null,setSelectionStudy:()=>{},setSelectionSemester:()=>{},getFriendlyStudyName:()=>null,getFriendlySemesterName:()=>null,getCourses:()=>[],getCalendarEvents:()=>[],studyOptions:{},semesterOptions:{}}),ae="userFieldOfStudy",le="userSemester",ie=({children:n})=>{const[s,o]=c.useState(null),[m,l]=c.useState(null),[a,g]=c.useState({}),[r,h]=c.useState({}),[d,x]=c.useState({});c.useEffect(()=>{const i=localStorage.getItem(ae),t=localStorage.getItem(le);i&&o(i),i&&t&&l(t)},[]),c.useEffect(()=>{(async()=>{try{const t=await fetch("courses.json");if(!t.ok)throw new Error("Failed to fetch courses");const j=await t.json();g(j)}catch(t){console.error("Error fetching courses:",t)}})()},[]),c.useEffect(()=>{(async()=>{try{const t=await fetch("options.json");if(!t.ok)throw new Error("Failed to fetch options");const j=await t.json();h(j.studyOptions),x(j.semesterOptions)}catch(t){console.error("Error fetching options:",t)}})()},[]);const w=c.useMemo(()=>Object.fromEntries(Object.entries(r).filter(([i])=>{const t=a[i];return t?Object.values(t).some(j=>j.length>0):!1})),[r,a]),k=c.useMemo(()=>{if(!s||!a[s])return{};const i=a[s];return Object.fromEntries(Object.entries(d).filter(([t])=>{const j=i[t];return j&&j.length>0}))},[d,a,s]),v=i=>i&&r[i]||null,b=i=>i&&d[i]||null,p=()=>{var i;return!s||!m?[]:((i=a[s])==null?void 0:i[m])||[]};function O(i){const t=/^(\d{2})\.(\d{2})\.(\d{4})$/.exec(i);if(!t)return null;const[,j,D,K]=t;return new Date(Number(K),Number(D)-1,Number(j))}const I=()=>{const i=p(),t=[],j=new Date("2025-04-01"),D=new Date("2025-07-18"),K=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]"),T=JSON.parse(localStorage.getItem("relevantEvents")||"[]"),W={Montag:1,Dienstag:2,Mittwoch:3,Donnerstag:4,Freitag:5,Samstag:6,Sonntag:0},F=f=>{t.some(N=>{var u,y;return((u=N.extendedProps)==null?void 0:u.seriesKey)===((y=f.extendedProps)==null?void 0:y.seriesKey)&&N.start===f.start})||t.push(f)};return Object.values(a).forEach(f=>Object.values(f).forEach(N=>N.forEach(u=>{let y=null;if(u.klausurdate&&(y=O(u.klausurdate)||new Date(u.klausurdate)),y&&!isNaN(y.getTime())){y.setHours(9,0,0,0);const S=new Date(y);S.setHours(12,0,0,0);const E=`${u.key}_Klausur_${y.toISOString().slice(0,10)}`;T.includes(E)&&F({title:`Klausur: ${u.name} (${u.room})`,start:y.toISOString().slice(0,16),end:S.toISOString().slice(0,16),description:`Klausur für ${u.name} im Raum ${u.room}`,extendedProps:{lecturer:u.lecturer,room:u.room,type:"Klausur",seriesKey:E}})}Array.isArray(u.lectures)&&u.lectures.forEach(S=>{const E=new Date(j),_=(W[S.day]+7-E.getDay())%7;E.setDate(E.getDate()+_);const[z,$]=S.start.split(":").map(Number),M=`${u.key}_${S.type}_${S.day}_${S.start}`;if(T.includes(M))for(let C=new Date(E);C<=D;C.setDate(C.getDate()+7)){const B=new Date(C);B.setHours(z,$,0,0);const P=new Date(B);P.setMinutes(P.getMinutes()+Number(S.duration)),F({title:`${u.name} (${S.room||u.room})`,start:B.toISOString().slice(0,16),end:P.toISOString().slice(0,16),description:`${u.name} (${S.room||u.room})`,extendedProps:{lecturer:u.lecturer,room:S.room||u.room,type:S.type,seriesKey:M}})}})}))),i.forEach(f=>{let N=null;if(f.klausurdate&&(N=O(f.klausurdate)||new Date(f.klausurdate)),N&&!isNaN(N.getTime())){N.setHours(9,0,0,0);const u=new Date(N);u.setHours(12,0,0,0);const y=`${f.key}_Klausur_${N.toISOString().slice(0,10)}`;!K.includes(y)&&!T.includes(y)&&F({title:`Klausur: ${f.name} (${f.room})`,start:N.toISOString().slice(0,16),end:u.toISOString().slice(0,16),description:`Klausur für ${f.name} im Raum ${f.room}`,extendedProps:{lecturer:f.lecturer,room:f.room,type:"Klausur",seriesKey:y}})}Array.isArray(f.lectures)&&f.lectures.forEach(u=>{const y=new Date(j),E=(W[u.day]+7-y.getDay())%7;y.setDate(y.getDate()+E);const[G,_]=u.start.split(":").map(Number),z=`${f.key}_${u.type}_${u.day}_${u.start}`;if(!(K.includes(z)||T.includes(z)))for(let $=new Date(y);$<=D;$.setDate($.getDate()+7)){const M=new Date($);M.setHours(G,_,0,0);const C=new Date(M);C.setMinutes(C.getMinutes()+Number(u.duration)),F({title:`${f.name} (${u.room||f.room})`,start:M.toISOString().slice(0,16),end:C.toISOString().slice(0,16),description:`${f.name} (${u.room||f.room})`,extendedProps:{lecturer:f.lecturer,room:u.room||f.room,type:u.type,seriesKey:z}})}})}),t};return e.jsx(A.Provider,{value:{selectionStudy:s,selectionSemester:m,setSelectionStudy:o,setSelectionSemester:l,getFriendlyStudyName:v,getFriendlySemesterName:b,getCourses:p,getCalendarEvents:I,studyOptions:w,semesterOptions:k},children:n})},Z=()=>{const{selectionStudy:n,selectionSemester:s,setSelectionStudy:o,setSelectionSemester:m,studyOptions:l,semesterOptions:a}=c.useContext(A),g=d=>{const x=d.target.value;o(x),m(null),localStorage.setItem("userFieldOfStudy",x),localStorage.removeItem("userSemester")},r=d=>{const x=d.target.value;m(x),localStorage.setItem("userSemester",x)},h=n?Object.entries(a).map(([d,x])=>({value:d,label:x})):[];return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-blue-700",children:"Willkommen zur Auswahlseite"}),e.jsx("div",{className:"w-full max-w-xs space-y-4",children:n?s?e.jsx(e.Fragment,{}):e.jsxs("select",{defaultValue:"",onChange:r,className:"w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",disabled:!0,children:"Bitte zweite Auswahl treffen..."}),h.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))]},n):e.jsxs("select",{defaultValue:"",onChange:g,className:"w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",disabled:!0,children:"Bitte erste Auswahl treffen..."}),Object.entries(l).map(([d,x])=>e.jsx("option",{value:d,children:x},d))]})})]})},oe=()=>{const{selectionStudy:n,selectionSemester:s,setSelectionStudy:o,setSelectionSemester:m,getFriendlyStudyName:l,getFriendlySemesterName:a}=c.useContext(A),g=()=>{o(null),m(null),localStorage.removeItem("userFieldOfStudy"),localStorage.removeItem("userSemester")},r=l(n),h=a(s);return e.jsx("header",{className:"bg-blue-700 text-white shadow-md",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between py-4 px-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"icon.svg",alt:"Logo",className:"h-8 w-8"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Student Landing Page"})]}),e.jsxs("nav",{className:"flex items-center space-x-4",children:[e.jsx("ul",{className:"flex space-x-4 border-r border-l border-gray-400 pr-8 mr-8 pl-8",children:e.jsx("li",{children:e.jsx("a",{href:"/public",className:"hover:underline",children:"Home"})})}),e.jsxs("div",{className:"text-xs text-gray-300 flex flex-col items-end",children:[r&&e.jsx("span",{children:r}),h&&e.jsx("span",{children:h})]}),e.jsx("button",{onClick:g,className:"flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",title:"Studienwahl und Semester zurücksetzen",children:e.jsx(ne,{size:20})})]})]})})},V=({title:n,children:s})=>e.jsxs("div",{className:"w-full h-full bg-white shadow-xl border border-gray-200 rounded-lg p-6 pt-0 flex flex-col overflow-y-scroll",children:[e.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-2 mt-6",children:n}),e.jsx("hr",{className:"border-gray-300"})]}),e.jsx("div",{className:"flex-grow pt-4",children:s})]}),ce=({children:n})=>e.jsx("div",{className:"w-full h-[300vh] md:h-full overflow-hidden flex flex-col md:grid md:grid-cols-3 gap-6 bg-gray-100 p-4 rounded-lg shadow-md",children:te.Children.toArray(n).map((s,o)=>e.jsx("div",{className:"flex-1 h-full overflow-hidden",children:s},o))}),de=({sender:n,subject:s,content:o,read:m,onClick:l})=>e.jsxs("div",{className:`w-full bg-white shadow-md border border-gray-300 rounded-lg p-2 hover:bg-gray-100 cursor-pointer relative ${m?"opacity-75":"font-bold"}`,onClick:l,children:[!m&&e.jsx("span",{className:"absolute top-2 right-2 text-blue-500",children:"●"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-500 truncate",children:n}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:s}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 truncate",children:o})]})]}),ue=({senderName:n,senderEmail:s,subject:o,content:m,cc:l,attachments:a,onClose:g})=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:g,children:"×"}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:o}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Von: ",n," <",s,">"]}),l&&l.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["CC: ",l.join(", ")]})]}),a&&a.length>0&&e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Anhänge:"}),e.jsx("div",{className:"max-h-12",children:e.jsx("ul",{className:"list-disc list-inside text-gray-800",children:a.map((r,h)=>e.jsx("li",{children:r},h))})})]})]}),e.jsx("div",{className:"border-t border-gray-300 pt-4",children:e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:m})}),e.jsx("div",{className:"border-t border-gray-300 pt-4 mt-4 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>alert("Reply functionality not implemented yet"),children:"Antworten"})})]})}),me=()=>{const[n,s]=c.useState(null),[o,m]=c.useState(!1),[l,a]=c.useState([{senderName:"Professor Müller",senderEmail:"mueller@university.de",subject:"Raumänderung",content:"Die morgige Vorlesung findet im Raum 204 statt, anstatt in Raum 101. Bitte beachten Sie diese Änderung.",cc:["assistenz@university.de"],attachments:["Vorlesungsplan.pdf"]},{senderName:"Universitätsverwaltung",senderEmail:"verwaltung@university.de",subject:"Erinnerung an Rückmeldung",content:"Bitte stellen Sie sicher, dass Ihre Studiengebühren bis Ende des Monats bezahlt sind, um Verzögerungen zu vermeiden.",cc:[],attachments:[]},{senderName:"Bibliotheksdienst",senderEmail:"bibliothek@university.de",subject:"Überfällige Buchrückgabe",content:'Das Buch "Einführung in Algorithmen" ist überfällig. Bitte geben Sie es so bald wie möglich zurück.',cc:["student1@university.de","student2@university.de"],attachments:[]},{senderName:"Karrierezentrum",senderEmail:"karriere@university.de",subject:"Praktikumsmöglichkeiten",content:"Entdecken Sie die neuesten Praktikumsmöglichkeiten in Ihrem Studienbereich.",cc:[],attachments:["Praktikumsliste.pdf"]},{senderName:"Studierendenrat",senderEmail:"studierendenrat@university.de",subject:"Bevorstehendes Event: Hackathon",content:"Nehmen Sie dieses Wochenende am jährlichen Hackathon teil. Preise für die besten Teams!",cc:["team@university.de"],attachments:["HackathonDetails.pdf","Anmeldeformular.pdf"]},{senderName:"IT-Support",senderEmail:"support@university.de",subject:"Systemwartungsbenachrichtigung",content:"Das Universitätsportal wird am Samstag von 2 Uhr bis 6 Uhr wegen Wartungsarbeiten nicht verfügbar sein.",cc:[],attachments:[]},{senderName:"Kurskoordinator",senderEmail:"koordinator@university.de",subject:"Erinnerung an Abgabefrist",content:'Vergessen Sie nicht, Ihre Aufgabe für "Datenstrukturen" bis Freitag einzureichen.',cc:["professor@university.de"],attachments:["Aufgabenbeschreibung.pdf"]},{senderName:"Sportverein",senderEmail:"sport@university.de",subject:"Wöchentlicher Trainingsplan",content:"Der Trainingsplan für diese Woche wurde aktualisiert. Siehe die angehängte Datei.",cc:[],attachments:["Trainingsplan.pdf"]},{senderName:"Studierendenservice",senderEmail:"service@university.de",subject:"Verfügbarkeit von Beratungsterminen",content:"Neue Termine für Beratungssitzungen sind jetzt verfügbar. Buchen Sie noch heute Ihren Termin.",cc:["beratung@university.de"],attachments:[]},{senderName:"Campus-Sicherheit",senderEmail:"sicherheit@university.de",subject:"Sicherheitswarnung",content:"Bitte seien Sie vorsichtig im Bereich des Hauptparkplatzes aufgrund laufender Bauarbeiten.",cc:[],attachments:["Sicherheitsrichtlinien.pdf"]},{senderName:"Projektleiter",senderEmail:"projektleiter@university.de",subject:"Projektabschlussbericht",content:"Der Abschlussbericht des Projekts wurde fertiggestellt. Bitte überprüfen Sie die angehängten Dateien.",cc:["team@university.de","supervisor@university.de"],attachments:["Bericht.pdf","Diagramm1.png","Diagramm2.png","Diagramm3.png","Diagramm4.png","Diagramm5.png","Diagramm6.png","Diagramm7.png","Diagramm8.png","Diagramm9.png","Diagramm10.png"]}]),g=h=>{s(h),m(!0),a(d=>d.map(x=>x===h?{...x,read:!0}:x))},r=()=>{m(!1),s(null)};return e.jsxs("div",{className:"space-y-4",children:[l.map((h,d)=>e.jsx(de,{sender:h.senderName,subject:h.subject,content:h.content,read:h.read,onClick:()=>g(h)},d)),o&&n&&e.jsx(ue,{senderEmail:n.senderEmail,senderName:n.senderName,subject:n.subject,content:n.content,cc:n.cc,attachments:n.attachments,onClose:r})]})},he=({subtitle:n,children:s,defaultOpen:o=!1,storageKey:m})=>{const[l,a]=c.useState(o);c.useEffect(()=>{const r=localStorage.getItem(m);r!==null&&a(r==="true")},[m]);const g=()=>{a(r=>(localStorage.setItem(m,(!r).toString()),!r))};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b border-gray-300",onClick:g,children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e.jsx("span",{className:"text-gray-500",children:l?"-":"+"})]}),l&&e.jsx("div",{className:"mt-2 text-gray-600",children:s})]})},xe=({children:n})=>e.jsx("div",{className:"flex flex-wrap -mx-2",children:te.Children.map(n,(s,o)=>e.jsx("div",{className:"w-full xl:w-1/2 px-2 mb-4",children:s},o))}),ee=({subtitle:n,href:s})=>e.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs font-medium text-blue-600 hover:underline",children:[n,e.jsx(se,{className:"ml-1",size:14})]}),H="absolute px-3 py-1 text-sm rounded border border-blue-500 text-blue-500 bg-transparent hover:bg-blue-100 transition-colors",ge=({name:n,room:s,lecturer:o,moduldatenbankUrl:m,anmeldenUrl:l,pvl:a="Keine",klausurdate:g,credits:r,hilfsmittel:h,key:d})=>{const[x,w]=c.useState(!1);return e.jsxs("div",{className:`relative w-full min-h-[140px] bg-blue-50 rounded-xl shadow-2xl border border-gray-300 flex flex-col items-center justify-center p-4 pt-12 pb-12 mx-auto backdrop-blur-sm  ${x?"min-h-[220px]":""}`,children:[e.jsx("button",{className:`${H} top-2.5 right-2.5 z-10`,children:e.jsx(ee,{subtitle:"Moduldatenbank",href:m})}),e.jsx("button",{className:`${H} bottom-2.5 left-2.5`,onClick:()=>w(k=>!k),children:x?"Weniger Infos":"Mehr Infos"}),e.jsx("button",{className:`${H} bottom-2.5 right-2.5`,children:e.jsx(ee,{subtitle:"Anmelden",href:l})}),e.jsxs("span",{className:"text-center w-full text-base font-medium leading-tight",children:[e.jsx("span",{className:"text-blue-800",children:n}),e.jsx("br",{}),e.jsxs("span",{className:"text-gray-600 text-xs",children:["Raum: ",s]}),e.jsx("br",{}),e.jsxs("span",{className:"text-gray-600 text-xs",children:["Dozent: ",o]})]}),x&&e.jsx("div",{className:`w-full text-xs text-gray-700 bg-white rounded shadow-inner p-2 border border-gray-200 max-w-full overflow-hidden ${x?"mt-2 max-h-40":"max-h-0"}`,style:{zIndex:1},children:e.jsxs("dl",{className:"grid grid-cols-1 gap-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"PVL:"}),e.jsx("dd",{children:a})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Klausurtermin:"}),e.jsx("dd",{children:g})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Credits:"}),e.jsxs("dd",{children:[r," ECTS"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Hilfsmittel:"}),e.jsx("dd",{children:h})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Anmeldeschlüssel:"}),e.jsx("dd",{children:d})]})]})})]})},fe=()=>{const{getCourses:n}=c.useContext(A),s=n();return e.jsx(he,{storageKey:"coursecolapsable",defaultOpen:!0,subtitle:"Kurse",children:e.jsx(xe,{children:s.map(o=>c.createElement(ge,{...o,key:o.key}))})})},R=({subtitle:n,href:s})=>e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[n,e.jsx(se,{style:{marginLeft:4}})]})})}),pe=()=>e.jsx(R,{subtitle:"Raumservice",href:"https://raumservice.htwsaar.de/index.php?mid=998&muid=0&muuid=0"}),be=()=>e.jsx(R,{subtitle:"Bibliothek",href:"https://www.htwsaar.de/studium-und-lehre/service-und-beratung/rund-ums-studium/bibliothek/bibliothek"}),je=()=>e.jsx(R,{subtitle:"Mensa",href:"https://mensaar.de/#/menu/htwcas"}),L=()=>e.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#888",margin:"15px 0",borderRadius:"1.5px"}}),ye=()=>e.jsx(R,{subtitle:"SIM",href:"https://sim.htwsaar.de/launchpad#Shell-home"}),ve=({event:n,onClose:s,onDeleteEvent:o})=>{if(!n)return null;const{title:m,start:l,end:a,description:g,extendedProps:r={}}=n,h=(r==null?void 0:r.type)==="custom",d=!!(r!=null&&r.allDay),x=()=>{const v=r==null?void 0:r.seriesKey;if(!(!v&&!h)){if(h){const b=`custom_${m}_${l}_${a}`,p=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]");p.includes(b)||(p.push(b),localStorage.setItem("notRelevantEvents",JSON.stringify(p)))}else if(typeof v=="string"){const b=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]");b.includes(v)||(b.push(v),localStorage.setItem("notRelevantEvents",JSON.stringify(b)))}s()}},w=()=>{const v=r==null?void 0:r.seriesKey;if(!(!v&&!h)){if(h){const b=`custom_${m}_${l}_${a}`,p=JSON.parse(localStorage.getItem("relevantEvents")||"[]");p.includes(b)||(p.push(b),localStorage.setItem("relevantEvents",JSON.stringify(p)))}else if(typeof v=="string"){const b=JSON.parse(localStorage.getItem("relevantEvents")||"[]");b.includes(v)||(b.push(v),localStorage.setItem("relevantEvents",JSON.stringify(b)))}s()}},k=()=>{o&&o(n)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[300px] max-w-[90vw]",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:m}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Start:"})," ",d?new Date(l).toLocaleDateString("de-DE"):new Date(l).toLocaleString("de-DE")]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Ende:"})," ",d?new Date(a).toLocaleDateString("de-DE"):new Date(a).toLocaleString("de-DE")]}),g&&e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Beschreibung:"})," ",g]}),r&&e.jsxs("div",{className:"mb-2",children:[typeof r.lecturer=="string"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Dozent:"})," ",r.lecturer]}),typeof r.room=="string"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Raum:"})," ",r.room]}),typeof r.type=="string"&&!h&&e.jsxs("p",{children:[e.jsx("strong",{children:"Typ:"})," ",r.type]}),d&&e.jsxs("p",{children:[e.jsx("strong",{children:"Ganztägig:"})," Ja"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:s,children:"Schließen"}),!h&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:x,children:"Verbergen"}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:w,children:"Semesterübergreifend anzeigen"})]}),h&&o&&e.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:k,children:"Löschen"})]})]})})},Se=({initialDate:n,onClose:s,onSave:o})=>{const[m,l]=c.useState(""),[a,g]=c.useState(n||""),[r,h]=c.useState(n||""),[d,x]=c.useState(""),[w,k]=c.useState(""),[v,b]=c.useState(""),[p,O]=c.useState(!1),I=t=>{O(t.target.checked),t.target.checked&&(g(a?a.slice(0,10):""),h(r?r.slice(0,10):""))},i=t=>{t.preventDefault(),!(!m||!a||!r)&&o({title:m,start:p?a.slice(0,10):a,end:p?r.slice(0,10):r,description:d,extendedProps:{type:"custom",lecturer:w,room:v,allDay:p}})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[300px] max-w-[90vw]",onSubmit:i,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Kalendereintrag hinzufügen"}),e.jsxs("label",{className:"block mb-2",children:["Title:",e.jsx("input",{className:"w-full border p-1",value:m,onChange:t=>l(t.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Ganztägig:",e.jsx("input",{type:"checkbox",className:"ml-2",checked:p,onChange:I})]}),e.jsxs("label",{className:"block mb-2",children:["Start:",e.jsx("input",{className:"w-full border p-1",type:p?"date":"datetime-local",value:a,onChange:t=>g(t.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Ende:",e.jsx("input",{className:"w-full border p-1",type:p?"date":"datetime-local",value:r,onChange:t=>h(t.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Beschreibung:",e.jsx("input",{className:"w-full border p-1",value:d,onChange:t=>x(t.target.value)})]}),e.jsxs("label",{className:"block mb-2",children:["Dozent:",e.jsx("input",{className:"w-full border p-1",value:w,onChange:t=>k(t.target.value)})]}),e.jsxs("label",{className:"block mb-2",children:["Raum:",e.jsx("input",{className:"w-full border p-1",value:v,onChange:t=>b(t.target.value)})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:s,children:"Abbrechen"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Speichern"})]})]})})},J=()=>JSON.parse(localStorage.getItem("customEvents")||"[]"),Ne=n=>{const s=J(),o={...n,id:crypto.randomUUID(),extendedProps:{...n.extendedProps,type:"custom"}};s.push(o),localStorage.setItem("customEvents",JSON.stringify(s))},we=()=>{const{getCalendarEvents:n}=c.useContext(A),[s,o]=c.useState(null),[m,l]=c.useState(!1),[a,g]=c.useState(null),[r,h]=c.useState(0),[d,x]=c.useState(!1);c.useEffect(()=>{if(!d)return;const i=t=>{t.key==="Escape"&&x(!1)};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[d]);const w=i=>{const j=J().filter(D=>D.id!==i.id);localStorage.setItem("customEvents",JSON.stringify(j)),o(null),h(D=>D+1)},k=i=>{var t;o(((t=i.event.extendedProps)==null?void 0:t.originalEvent)||i.event)},v=i=>{var j;const t=(j=i.event.extendedProps)==null?void 0:j.type;return t==="Klausur"?["event-klausur"]:t==="Vorlesung"?["event-vorlesung"]:t!=null&&t.toLowerCase().includes("übung")?["event-uebung"]:t!=null&&t.toLowerCase().includes("praktikum")?["event-praktikum"]:t==="custom"?["event-custom"]:[]},b=()=>o(null),p=i=>{g(i.dateStr),l(!0)},O=i=>{Ne(i),l(!1),h(t=>t+1)},I=[...n(),...J()];return e.jsxs("div",{className:d?"fixed inset-0 bg-transparent z-[9999] flex flex-col":"",children:[e.jsx("div",{className:d?"flex justify-end mb-2 pr-4 pt-4":"flex justify-end mb-2",children:e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 shadow",onClick:()=>x(i=>!i),children:d?"Vollbild verlassen":"Vollbild"})}),d?e.jsx("div",{className:"flex-1 bg-white px-4 mx-4 pt-4 mt-8 flex flex-col",children:e.jsx(U,{plugins:[Y,Q,X],initialView:"timeGridWeek",headerToolbar:{left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClassNames:v,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",slotDuration:"00:30:00",weekends:!1,weekNumbers:!0,events:I,locales:q,locale:"de",eventClick:k,dateClick:p,height:"-webkit-fill-available"},r)}):e.jsx(U,{plugins:[Y,Q,X],initialView:"timeGridWeek",headerToolbar:{left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClassNames:v,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",slotDuration:"00:30:00",weekends:!1,weekNumbers:!0,events:I,locales:q,locale:"de",eventClick:k,dateClick:p},r),s&&e.jsx(ve,{event:s,onClose:b,onDeleteEvent:w}),m&&e.jsx(Se,{initialDate:a,onClose:()=>l(!1),onSave:O}),e.jsx("button",{children:"Test"})]})},ke=()=>e.jsx(R,{subtitle:"Asta",href:"https://asta-htw.de"}),Ee=()=>e.jsx(R,{subtitle:"Saarfahrplan",href:"https://saarfahrplan.de/"});function De(){const{selectionStudy:n,selectionSemester:s}=c.useContext(A);return e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx("div",{className:"overflow-y-auto md:overflow-hidden",style:{height:"calc(100vh - 72px)"},children:n?s?e.jsxs(ce,{children:[e.jsxs(V,{title:"Campusgeschehen",children:[e.jsx(je,{}),e.jsx(pe,{}),e.jsx(L,{}),e.jsx(be,{}),e.jsx(ke,{}),e.jsx(L,{}),e.jsx(Ee,{})]}),e.jsx(V,{title:"Webmail",children:e.jsx(me,{})}),e.jsxs(V,{title:"Deine Kurse",children:[e.jsx(fe,{}),e.jsx(L,{}),e.jsx(we,{}),e.jsx(L,{}),e.jsx(ye,{})]})]}):e.jsx(Z,{}):e.jsx(Z,{})})]})}function Ce(){return e.jsx(ie,{children:e.jsx(De,{})})}re.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(Ce,{})}));
