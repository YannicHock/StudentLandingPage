import{r as a,j as e,M as he,R as X,F as de,a as se,l as ne,i as re,b as le,c as ae,d as xe}from"./vendor-Crur0c74.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(l){if(l.ep)return;l.ep=!0;const n=i(l);fetch(l.href,n)}})();const A=a.createContext({selectionStudy:null,selectionSemester:null,setSelectionStudy:()=>{},setSelectionSemester:()=>{},getFriendlyStudyName:()=>null,getFriendlySemesterName:()=>null,getCourses:()=>[],getOtherCoursesForStudy:()=>[],getWahlpflichtmodule:()=>[],getCalendarEvents:()=>[],addRelevantCourse:()=>{},studyOptions:{},semesterOptions:{}}),ge="userFieldOfStudy",fe="userSemester",H="relevantEvents",pe=({children:r})=>{const[t,i]=a.useState(null),[o,l]=a.useState(null),[n,f]=a.useState({}),[s,d]=a.useState({}),[u,p]=a.useState({}),[C,E]=a.useState(0);a.useEffect(()=>{const g=localStorage.getItem(ge),h=localStorage.getItem(fe);g&&i(g),g&&h&&l(h)},[]),a.useEffect(()=>{(async()=>{try{const h=await fetch("courses.json");if(!h.ok)throw new Error("Failed to fetch courses");const b=await h.json();f(b)}catch(h){console.error("Error fetching courses:",h)}})()},[]),a.useEffect(()=>{(async()=>{try{const h=await fetch("options.json");if(!h.ok)throw new Error("Failed to fetch options");const b=await h.json();d(b.studyOptions),p(b.semesterOptions)}catch(h){console.error("Error fetching options:",h)}})()},[]);const m=a.useMemo(()=>Object.fromEntries(Object.entries(s).filter(([g])=>{const h=n[g];return h?Object.values(h).some(b=>Array.isArray(b)&&b.length>0):!1})),[s,n]),v=a.useMemo(()=>{if(!t||!n[t])return{};const g=n[t];return Object.fromEntries(Object.entries(u).filter(([h])=>{const b=g[h];return b&&b.length>0}))},[u,n,t]),S=g=>g&&s[g]||null,W=g=>g&&u[g]||null;function R(g){const h=/^(\d{2})\.(\d{2})\.(\d{4})$/.exec(g);if(!h)return null;const[,b,w,I]=h;return new Date(Number(I),Number(w)-1,Number(b))}const F=g=>{const h=JSON.parse(localStorage.getItem(H)||"[]");if(g.klausurdate){const b=R(g.klausurdate)||new Date(g.klausurdate);if(b&&!isNaN(b.getTime())){const w=`${g.key}_Klausur_${b.toISOString().slice(0,10)}`;h.includes(w)||h.push(w)}}Array.isArray(g.lectures)&&g.lectures.forEach(b=>{const w=`${g.key}_${b.type}_${b.day}_${b.start}`;h.includes(w)||h.push(w)}),localStorage.setItem(H,JSON.stringify(h)),E(b=>b+1)},x=()=>{var I;if(!t)return[];const g=o?((I=n[t])==null?void 0:I[o])||[]:[],h=JSON.parse(localStorage.getItem(H)||"[]"),b=new Set(h.map(D=>D.split("_")[0])),w=[];return n[t]&&Object.values(n[t]).forEach(D=>{Array.isArray(D)&&D.forEach(O=>{b.has(String(O.key))&&!g.some(K=>K.key===O.key)&&!w.some(K=>K.key===O.key)&&w.push(O)})}),n.wahlpflichtmodule&&Object.values(n.wahlpflichtmodule).flat().forEach(D=>{b.has(String(D.key))&&!g.some(O=>O.key===D.key)&&!w.some(O=>O.key===D.key)&&w.push(D)}),[...g,...w]},N=()=>{if(!t)return[];const g=n[t];if(!g)return[];const h=[];for(const b in g)if(b!==o){const w=g[b];Array.isArray(w)&&h.push(...w)}return h},L=g=>{var h;return((h=n.wahlpflichtmodule)==null?void 0:h[g])||[]},P=()=>{const g=x(),h=[],b=new Date("2025-04-01"),w=new Date("2025-07-18"),I=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]"),D=JSON.parse(localStorage.getItem(H)||"[]"),O={Montag:1,Dienstag:2,Mittwoch:3,Donnerstag:4,Freitag:5,Samstag:6,Sonntag:0},K=c=>{h.some(k=>{var y,j;return((y=k.extendedProps)==null?void 0:y.seriesKey)===((j=c.extendedProps)==null?void 0:j.seriesKey)&&k.start===c.start})||h.push(c)},{wahlpflichtmodule:te,...me}=n;return[...Object.values(me).flatMap(c=>Object.values(c).flat()),...te?Object.values(te).flat():[]].forEach(c=>{let k=null;if(c.klausurdate&&(k=R(c.klausurdate)||new Date(c.klausurdate)),k&&!isNaN(k.getTime())){k.setHours(9,0,0,0);const y=new Date(k);y.setHours(12,0,0,0);const j=`${c.key}_Klausur_${k.toISOString().slice(0,10)}`;D.includes(j)&&!I.includes(j)&&K({title:`Klausur: ${c.name}${c.room?` (${c.room})`:""}`,start:k.toISOString().slice(0,16),end:y.toISOString().slice(0,16),description:`Klausur für ${c.name}${c.room?` im Raum ${c.room}`:""}`,extendedProps:{lecturer:c.lecturer,room:c.room,type:"Klausur",seriesKey:j}})}Array.isArray(c.lectures)&&c.lectures.forEach(y=>{const j=new Date(b),V=O[y.day];if(V===void 0)return;const U=(V+7-j.getDay())%7;j.setDate(j.getDate()+U);const[q,Y]=y.start.split(":").map(Number),z=`${c.key}_${y.type}_${y.day}_${y.start}`;if(D.includes(z)&&!I.includes(z))for(let M=new Date(j);M<=w;M.setDate(M.getDate()+7)){const _=new Date(M);_.setHours(q,Y,0,0);const T=new Date(_);T.setMinutes(T.getMinutes()+Number(y.duration));const $=y.room||c.room;K({title:`${c.name}${$?` (${$})`:""}`,start:_.toISOString().slice(0,16),end:T.toISOString().slice(0,16),description:`${c.name}${$?` (${$})`:""}`,extendedProps:{lecturer:c.lecturer,room:$,type:y.type,seriesKey:z}})}})}),g.forEach(c=>{let k=null;if(c.klausurdate&&(k=R(c.klausurdate)||new Date(c.klausurdate)),k&&!isNaN(k.getTime())){k.setHours(9,0,0,0);const y=new Date(k);y.setHours(12,0,0,0);const j=`${c.key}_Klausur_${k.toISOString().slice(0,10)}`;!I.includes(j)&&!D.includes(j)&&K({title:`Klausur: ${c.name}${c.room?` (${c.room})`:""}`,start:k.toISOString().slice(0,16),end:y.toISOString().slice(0,16),description:`Klausur für ${c.name}${c.room?` im Raum ${c.room}`:""}`,extendedProps:{lecturer:c.lecturer,room:c.room,type:"Klausur",seriesKey:j}})}Array.isArray(c.lectures)&&c.lectures.forEach(y=>{const j=new Date(b),V=O[y.day];if(V===void 0)return;const U=(V+7-j.getDay())%7;j.setDate(j.getDate()+U);const[q,Y]=y.start.split(":").map(Number),z=`${c.key}_${y.type}_${y.day}_${y.start}`;if(!(I.includes(z)||D.includes(z)))for(let M=new Date(j);M<=w;M.setDate(M.getDate()+7)){const _=new Date(M);_.setHours(q,Y,0,0);const T=new Date(_);T.setMinutes(T.getMinutes()+Number(y.duration));const $=y.room||c.room;K({title:`${c.name}${$?` (${$})`:""}`,start:_.toISOString().slice(0,16),end:T.toISOString().slice(0,16),description:`${c.name}${$?` (${$})`:""}`,extendedProps:{lecturer:c.lecturer,room:$,type:y.type,seriesKey:z}})}})}),h};return e.jsx(A.Provider,{value:{selectionStudy:t,selectionSemester:o,setSelectionStudy:i,setSelectionSemester:l,getFriendlyStudyName:S,getFriendlySemesterName:W,getCourses:x,getOtherCoursesForStudy:N,getWahlpflichtmodule:L,getCalendarEvents:P,addRelevantCourse:F,studyOptions:m,semesterOptions:v},children:r},C)},ie=()=>{const{selectionStudy:r,selectionSemester:t,setSelectionStudy:i,setSelectionSemester:o,studyOptions:l,semesterOptions:n}=a.useContext(A),f=u=>{const p=u.target.value;i(p),o(null),localStorage.setItem("userFieldOfStudy",p),localStorage.removeItem("userSemester")},s=u=>{const p=u.target.value;o(p),localStorage.setItem("userSemester",p)},d=r?Object.entries(n).map(([u,p])=>({value:u,label:p})):[];return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-blue-700",children:"Willkommen zur Auswahlseite"}),e.jsx("div",{className:"w-full max-w-xs space-y-4",children:r?t?e.jsx(e.Fragment,{}):e.jsxs("select",{defaultValue:"",onChange:s,className:"w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",disabled:!0,children:"Bitte zweite Auswahl treffen..."}),d.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))]},r):e.jsxs("select",{defaultValue:"",onChange:f,className:"w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",disabled:!0,children:"Bitte erste Auswahl treffen..."}),Object.entries(l).map(([u,p])=>e.jsx("option",{value:u,children:p},u))]})})]})},be=()=>{const{selectionStudy:r,selectionSemester:t,setSelectionStudy:i,setSelectionSemester:o,getFriendlyStudyName:l,getFriendlySemesterName:n}=a.useContext(A),f=()=>{i(null),o(null),localStorage.removeItem("userFieldOfStudy"),localStorage.removeItem("userSemester")},s=l(r),d=n(t);return e.jsx("header",{className:"bg-blue-700 text-white shadow-md",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between py-4 px-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"icon.svg",alt:"Logo",className:"h-8 w-8"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Student Landing Page"})]}),e.jsxs("nav",{className:"flex items-center space-x-4",children:[e.jsx("ul",{className:"flex space-x-4 border-r border-l border-gray-400 pr-8 mr-8 pl-8",children:e.jsx("li",{children:e.jsx("a",{href:"/public",className:"hover:underline",children:"Home"})})}),e.jsxs("div",{className:"text-xs text-gray-300 flex flex-col items-end",children:[s&&e.jsx("span",{children:s}),d&&e.jsx("span",{children:d})]}),e.jsx("button",{onClick:f,className:"flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",title:"Studienwahl und Semester zurücksetzen",children:e.jsx(he,{size:20})})]})]})})},J=({title:r,children:t})=>e.jsxs("div",{className:"w-full h-full bg-white shadow-xl border border-gray-200 rounded-lg p-6 pt-0 flex flex-col overflow-y-scroll",children:[e.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-2 mt-6",children:r}),e.jsx("hr",{className:"border-gray-300"})]}),e.jsx("div",{className:"flex-grow pt-4",children:t})]}),ye=({children:r})=>e.jsx("div",{className:"w-full h-[300vh] md:h-full overflow-hidden flex flex-col md:grid md:grid-cols-3 gap-6 bg-gray-100 p-4 rounded-lg shadow-md",children:X.Children.toArray(r).map((t,i)=>e.jsx("div",{className:"flex-1 h-full overflow-hidden",children:t},i))}),je=({sender:r,subject:t,content:i,read:o,onClick:l})=>e.jsxs("div",{className:`w-full bg-white shadow-md border border-gray-300 rounded-lg p-2 hover:bg-gray-100 cursor-pointer relative ${o?"opacity-75":"font-bold"}`,onClick:l,children:[!o&&e.jsx("span",{className:"absolute top-2 right-2 text-blue-500",children:"●"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-500 truncate",children:r}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:t}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 truncate",children:i})]})]}),ve=({senderName:r,senderEmail:t,subject:i,content:o,cc:l,attachments:n,onClose:f})=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:f,children:"×"}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:i}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Von: ",r," <",t,">"]}),l&&l.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["CC: ",l.join(", ")]})]}),n&&n.length>0&&e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Anhänge:"}),e.jsx("div",{className:"max-h-12",children:e.jsx("ul",{className:"list-disc list-inside text-gray-800",children:n.map((s,d)=>e.jsx("li",{children:s},d))})})]})]}),e.jsx("div",{className:"border-t border-gray-300 pt-4",children:e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o})}),e.jsx("div",{className:"border-t border-gray-300 pt-4 mt-4 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>alert("Reply functionality not implemented yet"),children:"Antworten"})})]})}),Se=()=>{const[r,t]=a.useState(null),[i,o]=a.useState(!1),[l,n]=a.useState([{senderName:"Professor Müller",senderEmail:"mueller@university.de",subject:"Raumänderung",content:"Die morgige Vorlesung findet im Raum 204 statt, anstatt in Raum 101. Bitte beachten Sie diese Änderung.",cc:["assistenz@university.de"],attachments:["Vorlesungsplan.pdf"]},{senderName:"Universitätsverwaltung",senderEmail:"verwaltung@university.de",subject:"Erinnerung an Rückmeldung",content:"Bitte stellen Sie sicher, dass Ihre Studiengebühren bis Ende des Monats bezahlt sind, um Verzögerungen zu vermeiden.",cc:[],attachments:[]},{senderName:"Bibliotheksdienst",senderEmail:"bibliothek@university.de",subject:"Überfällige Buchrückgabe",content:'Das Buch "Einführung in Algorithmen" ist überfällig. Bitte geben Sie es so bald wie möglich zurück.',cc:["student1@university.de","student2@university.de"],attachments:[]},{senderName:"Karrierezentrum",senderEmail:"karriere@university.de",subject:"Praktikumsmöglichkeiten",content:"Entdecken Sie die neuesten Praktikumsmöglichkeiten in Ihrem Studienbereich.",cc:[],attachments:["Praktikumsliste.pdf"]},{senderName:"Studierendenrat",senderEmail:"studierendenrat@university.de",subject:"Bevorstehendes Event: Hackathon",content:"Nehmen Sie dieses Wochenende am jährlichen Hackathon teil. Preise für die besten Teams!",cc:["team@university.de"],attachments:["HackathonDetails.pdf","Anmeldeformular.pdf"]},{senderName:"IT-Support",senderEmail:"support@university.de",subject:"Systemwartungsbenachrichtigung",content:"Das Universitätsportal wird am Samstag von 2 Uhr bis 6 Uhr wegen Wartungsarbeiten nicht verfügbar sein.",cc:[],attachments:[]},{senderName:"Kurskoordinator",senderEmail:"koordinator@university.de",subject:"Erinnerung an Abgabefrist",content:'Vergessen Sie nicht, Ihre Aufgabe für "Datenstrukturen" bis Freitag einzureichen.',cc:["professor@university.de"],attachments:["Aufgabenbeschreibung.pdf"]},{senderName:"Sportverein",senderEmail:"sport@university.de",subject:"Wöchentlicher Trainingsplan",content:"Der Trainingsplan für diese Woche wurde aktualisiert. Siehe die angehängte Datei.",cc:[],attachments:["Trainingsplan.pdf"]},{senderName:"Studierendenservice",senderEmail:"service@university.de",subject:"Verfügbarkeit von Beratungsterminen",content:"Neue Termine für Beratungssitzungen sind jetzt verfügbar. Buchen Sie noch heute Ihren Termin.",cc:["beratung@university.de"],attachments:[]},{senderName:"Campus-Sicherheit",senderEmail:"sicherheit@university.de",subject:"Sicherheitswarnung",content:"Bitte seien Sie vorsichtig im Bereich des Hauptparkplatzes aufgrund laufender Bauarbeiten.",cc:[],attachments:["Sicherheitsrichtlinien.pdf"]},{senderName:"Projektleiter",senderEmail:"projektleiter@university.de",subject:"Projektabschlussbericht",content:"Der Abschlussbericht des Projekts wurde fertiggestellt. Bitte überprüfen Sie die angehängten Dateien.",cc:["team@university.de","supervisor@university.de"],attachments:["Bericht.pdf","Diagramm1.png","Diagramm2.png","Diagramm3.png","Diagramm4.png","Diagramm5.png","Diagramm6.png","Diagramm7.png","Diagramm8.png","Diagramm9.png","Diagramm10.png"]}]),f=d=>{t(d),o(!0),n(u=>u.map(p=>p===d?{...p,read:!0}:p))},s=()=>{o(!1),t(null)};return e.jsxs("div",{className:"space-y-4",children:[l.map((d,u)=>e.jsx(je,{sender:d.senderName,subject:d.subject,content:d.content,read:d.read,onClick:()=>f(d)},u)),i&&r&&e.jsx(ve,{senderEmail:r.senderEmail,senderName:r.senderName,subject:r.subject,content:r.content,cc:r.cc,attachments:r.attachments,onClose:s})]})},ee=({subtitle:r,children:t,defaultOpen:i=!1,storageKey:o})=>{const[l,n]=a.useState(i);a.useEffect(()=>{const s=localStorage.getItem(o);s!==null&&n(s==="true")},[o]);const f=()=>{n(s=>(localStorage.setItem(o,(!s).toString()),!s))};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b border-gray-300",onClick:f,children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r}),e.jsx("span",{className:"text-gray-500",children:l?"-":"+"})]}),l&&e.jsx("div",{className:"mt-2 text-gray-600",children:t})]})},Ne=({children:r})=>e.jsx("div",{className:"flex flex-wrap -mx-2",children:X.Children.map(r,(t,i)=>e.jsx("div",{className:"w-full xl:w-1/2 px-2 mb-4",children:t},i))}),oe=({subtitle:r,href:t})=>e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs font-medium text-blue-600 hover:underline",children:[r,e.jsx(de,{className:"ml-1",size:14})]}),Z="absolute px-3 py-1 text-sm rounded border border-blue-500 text-blue-500 bg-transparent hover:bg-blue-100 transition-colors",we=({name:r,room:t,lecturer:i,moduldatenbankUrl:o,anmeldenUrl:l,pvl:n="Keine",klausurdate:f,credits:s,hilfsmittel:d,courseKey:u})=>{const[p,C]=a.useState(!1);return e.jsxs("div",{className:`relative w-full min-h-[140px] bg-blue-50 rounded-xl shadow-2xl border border-gray-300 flex flex-col items-center justify-center p-4 pt-12 pb-12 mx-auto backdrop-blur-sm  ${p?"min-h-[220px]":""}`,children:[e.jsx("button",{className:`${Z} top-2.5 right-2.5 z-10`,children:e.jsx(oe,{subtitle:"Moduldatenbank",href:o})}),e.jsx("button",{className:`${Z} bottom-2.5 left-2.5`,onClick:()=>C(E=>!E),children:p?"Weniger Infos":"Mehr Infos"}),e.jsx("button",{className:`${Z} bottom-2.5 right-2.5`,children:e.jsx(oe,{subtitle:"Anmelden",href:l})}),e.jsxs("span",{className:"text-center w-full text-base font-medium leading-tight",children:[e.jsx("span",{className:"text-blue-800",children:r}),e.jsx("br",{}),e.jsxs("span",{className:"text-gray-600 text-xs",children:["Raum: ",t]}),e.jsx("br",{}),e.jsxs("span",{className:"text-gray-600 text-xs",children:["Dozent: ",i]})]}),p&&e.jsx("div",{className:`w-full text-xs text-gray-700 bg-white rounded shadow-inner p-2 border border-gray-200 max-w-full overflow-hidden ${p?"mt-2 max-h-40":"max-h-0"}`,style:{zIndex:1},children:e.jsxs("dl",{className:"grid grid-cols-1 gap-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"PVL:"}),e.jsx("dd",{children:n})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Klausurtermin:"}),e.jsx("dd",{children:f})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Credits:"}),e.jsxs("dd",{children:[s," ECTS"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Hilfsmittel:"}),e.jsx("dd",{children:d})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-semibold",children:"Anmeldeschlüssel:"}),e.jsx("dd",{children:u})]})]})})]})},ke=()=>{const{getCourses:r}=a.useContext(A),t=r();return e.jsx(ee,{storageKey:"coursecolapsable",defaultOpen:!0,subtitle:"Kurse",children:e.jsx(Ne,{children:t.map(i=>a.createElement(we,{...i,key:i.key,courseKey:i.key}))})})},B=({subtitle:r,href:t})=>e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[r,e.jsx(de,{style:{marginLeft:4}})]})})}),Ce=()=>e.jsx(B,{subtitle:"Raumservice",href:"https://raumservice.htwsaar.de/index.php?mid=998&muid=0&muuid=0"}),Ee=()=>e.jsx(B,{subtitle:"Bibliothek",href:"https://www.htwsaar.de/studium-und-lehre/service-und-beratung/rund-ums-studium/bibliothek/bibliothek"}),De=()=>e.jsx(B,{subtitle:"Mensa",href:"https://mensaar.de/#/menu/htwcas"}),G=()=>e.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#888",margin:"15px 0",borderRadius:"1.5px"}}),Oe=()=>e.jsx(B,{subtitle:"SIM",href:"https://sim.htwsaar.de/launchpad#Shell-home"}),$e=({event:r,onClose:t,onDeleteEvent:i})=>{if(!r)return null;const{title:o,start:l,end:n,description:f,extendedProps:s={}}=r,d=(s==null?void 0:s.type)==="custom",u=!!(s!=null&&s.allDay),p=()=>{const m=s==null?void 0:s.seriesKey;if(!(!m&&!d)){if(d){const v=`custom_${o}_${l}_${n}`,S=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]");S.includes(v)||(S.push(v),localStorage.setItem("notRelevantEvents",JSON.stringify(S)))}else if(typeof m=="string"){const v=JSON.parse(localStorage.getItem("notRelevantEvents")||"[]");v.includes(m)||(v.push(m),localStorage.setItem("notRelevantEvents",JSON.stringify(v)))}t()}},C=()=>{const m=s==null?void 0:s.seriesKey;if(!(!m&&!d)){if(d){const v=`custom_${o}_${l}_${n}`,S=JSON.parse(localStorage.getItem("relevantEvents")||"[]");S.includes(v)||(S.push(v),localStorage.setItem("relevantEvents",JSON.stringify(S)))}else if(typeof m=="string"){const v=JSON.parse(localStorage.getItem("relevantEvents")||"[]");v.includes(m)||(v.push(m),localStorage.setItem("relevantEvents",JSON.stringify(v)))}t()}},E=()=>{i&&i(r)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[300px] max-w-[90vw]",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:o}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Start:"})," ",u?new Date(l).toLocaleDateString("de-DE"):new Date(l).toLocaleString("de-DE")]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Ende:"})," ",u?new Date(n).toLocaleDateString("de-DE"):new Date(n).toLocaleString("de-DE")]}),f&&e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Beschreibung:"})," ",f]}),s&&e.jsxs("div",{className:"mb-2",children:[typeof s.lecturer=="string"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Dozent:"})," ",s.lecturer]}),typeof s.room=="string"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Raum:"})," ",s.room]}),typeof s.type=="string"&&!d&&e.jsxs("p",{children:[e.jsx("strong",{children:"Typ:"})," ",s.type]}),u&&e.jsxs("p",{children:[e.jsx("strong",{children:"Ganztägig:"})," Ja"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:t,children:"Schließen"}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:p,children:"Verbergen"}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:C,children:"Semesterübergreifend anzeigen"})]}),d&&i&&e.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:E,children:"Löschen"})]})]})})},Ie=({initialDate:r,onClose:t,onSave:i})=>{const[o,l]=a.useState(""),[n,f]=a.useState(r||""),[s,d]=a.useState(r||""),[u,p]=a.useState(""),[C,E]=a.useState(""),[m,v]=a.useState(""),[S,W]=a.useState(!1),R=x=>{W(x.target.checked),x.target.checked&&(f(n?n.slice(0,10):""),d(s?s.slice(0,10):""))},F=x=>{x.preventDefault(),!(!o||!n||!s)&&i({title:o,start:S?n.slice(0,10):n,end:S?s.slice(0,10):s,description:u,extendedProps:{type:"custom",lecturer:C,room:m,allDay:S}})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[300px] max-w-[90vw]",onSubmit:F,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Kalendereintrag hinzufügen"}),e.jsxs("label",{className:"block mb-2",children:["Title:",e.jsx("input",{className:"w-full border p-1",value:o,onChange:x=>l(x.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Ganztägig:",e.jsx("input",{type:"checkbox",className:"ml-2",checked:S,onChange:R})]}),e.jsxs("label",{className:"block mb-2",children:["Start:",e.jsx("input",{className:"w-full border p-1",type:S?"date":"datetime-local",value:n,onChange:x=>f(x.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Ende:",e.jsx("input",{className:"w-full border p-1",type:S?"date":"datetime-local",value:s,onChange:x=>d(x.target.value),required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Beschreibung:",e.jsx("input",{className:"w-full border p-1",value:u,onChange:x=>p(x.target.value)})]}),e.jsxs("label",{className:"block mb-2",children:["Dozent:",e.jsx("input",{className:"w-full border p-1",value:C,onChange:x=>E(x.target.value)})]}),e.jsxs("label",{className:"block mb-2",children:["Raum:",e.jsx("input",{className:"w-full border p-1",value:m,onChange:x=>v(x.target.value)})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:t,children:"Abbrechen"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Speichern"})]})]})})},Q=()=>JSON.parse(localStorage.getItem("customEvents")||"[]"),Me=r=>{const t=Q(),i={...r,id:crypto.randomUUID(),extendedProps:{...r.extendedProps,type:"custom"}};t.push(i),localStorage.setItem("customEvents",JSON.stringify(t))},Ke=()=>{const{getCalendarEvents:r}=a.useContext(A),[t,i]=a.useState(null),[o,l]=a.useState(!1),[n,f]=a.useState(null),[s,d]=a.useState(0),[u,p]=a.useState(!1);a.useEffect(()=>{if(!u)return;const x=N=>{N.key==="Escape"&&p(!1)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[u]);const C=x=>{const L=Q().filter(P=>P.id!==x.id);localStorage.setItem("customEvents",JSON.stringify(L)),i(null),d(P=>P+1)},E=x=>{var N;i(((N=x.event.extendedProps)==null?void 0:N.originalEvent)||x.event)},m=x=>{var L;const N=(L=x.event.extendedProps)==null?void 0:L.type;return N==="Klausur"?["event-klausur"]:N==="Vorlesung"?["event-vorlesung"]:N!=null&&N.toLowerCase().includes("übung")?["event-uebung"]:N!=null&&N.toLowerCase().includes("praktikum")?["event-praktikum"]:N==="custom"?["event-custom"]:[]},v=()=>i(null),S=x=>{f(x.dateStr),l(!0)},W=x=>{Me(x),l(!1),d(N=>N+1)},R=()=>{localStorage.removeItem("notRelevantEvents"),d(x=>x+1)},F=[...r(),...Q()];return e.jsxs("div",{className:u?"fixed inset-0 bg-transparent z-[9999] flex flex-col":"",children:[e.jsx("div",{className:u?"flex justify-end mb-2 pr-4 pt-4":"flex justify-end mb-2",children:e.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 shadow",onClick:()=>p(x=>!x),children:u?"Vollbild verlassen":"Vollbild"})}),u?e.jsx("div",{className:"flex-1 bg-white px-4 mx-4 pt-4 mt-8 flex flex-col",children:e.jsx(se,{plugins:[re,le,ae],initialView:"timeGridWeek",headerToolbar:{left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClassNames:m,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",slotDuration:"00:30:00",weekends:!1,weekNumbers:!0,events:F,locales:ne,locale:"de",eventClick:E,dateClick:S,height:"-webkit-fill-available"},s)}):e.jsx(se,{plugins:[re,le,ae],initialView:"timeGridWeek",headerToolbar:{left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClassNames:m,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",slotDuration:"00:30:00",weekends:!1,weekNumbers:!0,events:F,locales:ne,locale:"de",eventClick:E,dateClick:S},s),t&&e.jsx($e,{event:t,onClose:v,onDeleteEvent:C}),o&&e.jsx(Ie,{initialDate:n,onClose:()=>l(!1),onSave:W}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700 hover:underline",onClick:R,children:"Verborgene Kurse zurücksetzen"})})]})},Ae=()=>e.jsx(B,{subtitle:"Asta",href:"https://asta-htw.de"}),Re=()=>e.jsx(B,{subtitle:"Saarfahrplan",href:"https://saarfahrplan.de/"}),ze=({children:r})=>e.jsx("div",{className:"flex flex-col h-full gap-4",children:X.Children.map(r,(t,i)=>e.jsx("div",{className:"flex-1 overflow-hidden",children:t},i))}),ue=({children:r,onClose:t})=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:t,children:"×"}),r]})}),_e=()=>{const{getOtherCoursesForStudy:r,addRelevantCourse:t,getCourses:i}=a.useContext(A),[o,l]=a.useState(""),[n,f]=a.useState(null),s=a.useMemo(()=>new Set(i().map(m=>m.key)),[i]),d=a.useMemo(()=>r().filter(m=>!s.has(m.key)),[r,s]),u=a.useMemo(()=>o?d.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())):d,[d,o]),p=m=>{f(m)},C=()=>{n&&(t(n),f(null))},E=()=>{f(null)};return d.length===0?null:e.jsxs(e.Fragment,{children:[e.jsxs(ee,{storageKey:"allcourses_collapsable",defaultOpen:!1,subtitle:"Weitere Kurse im Studiengang",children:[e.jsx("input",{type:"text",placeholder:"Kurse durchsuchen...",value:o,onChange:m=>l(m.target.value),className:"w-full p-2 mb-3 border border-gray-300 rounded"}),e.jsx("ul",{className:"list-none p-0 m-0 max-h-[250px] overflow-y-auto",children:u.map(m=>e.jsx("li",{className:"py-2 px-1 border-b border-gray-200 cursor-pointer hover:bg-gray-100",onClick:()=>p(m),children:m.name},m.key))})]}),n&&e.jsx(ue,{onClose:E,children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"absolute -top-4 -right-4 text-gray-500 hover:text-gray-800 text-2xl",onClick:E,children:"×"}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Kurs hinzufügen"}),e.jsxs("p",{className:"mb-6",children:['Möchtest du den Kurs "',n.name,'" zusätzlich belegen?']}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:E,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Abbrechen"}),e.jsx("button",{onClick:C,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:"Bestätigen"})]})]})})]})},ce=({title:r,courses:t,onCourseClick:i,storageKey:o})=>{const[l,n]=a.useState(""),f=a.useMemo(()=>l?t.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())):t,[t,l]);return t.length===0?null:e.jsxs(ee,{storageKey:o,defaultOpen:!1,subtitle:r,children:[e.jsx("input",{type:"text",placeholder:"Kurse durchsuchen...",value:l,onChange:s=>n(s.target.value),className:"w-full p-2 mb-3 border border-gray-300 rounded"}),e.jsx("ul",{className:"list-none p-0 m-0 max-h-[250px] overflow-y-auto",children:f.map(s=>e.jsxs("li",{className:"py-2 px-3 border-b border-gray-200 cursor-pointer hover:bg-gray-100",onClick:()=>i(s),children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.credits," ECTS",s.lectures&&s.lectures.length>0&&e.jsxs(e.Fragment,{children:[" · ",s.lectures.map((d,u)=>{var p;return e.jsxs("span",{children:[d.day.substring(0,2),", ",d.start," Uhr",u<(((p=s.lectures)==null?void 0:p.length)??0)-1&&", "]},u)})]})]})]},s.key))})]})},Te=()=>{const{getWahlpflichtmodule:r,addRelevantCourse:t,getCourses:i,selectionSemester:o}=a.useContext(A),[l,n]=a.useState(null),f=a.useMemo(()=>new Set(i().map(m=>m.key)),[i]),s=a.useMemo(()=>r("informatik").filter(m=>!f.has(m.key)),[r,f]),d=a.useMemo(()=>r("nicht_informatik").filter(m=>!f.has(m.key)),[r,f]),u=m=>{n(m)},p=()=>{l&&(t(l),n(null))},C=()=>{n(null)};return!o||!["4","5","6"].includes(o)?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx(ce,{title:"Informatik-spezifische Wahlpflichtmodule",courses:s,onCourseClick:u,storageKey:"wp_info_collapsable"})}),e.jsx("div",{className:"mt-4",children:e.jsx(ce,{title:"Nicht-Informatik-spezifische Wahlpflichtmodule",courses:d,onCourseClick:u,storageKey:"wp_noninfo_collapsable"})}),l&&e.jsx(ue,{onClose:C,children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"absolute -top-4 -right-4 text-gray-500 hover:text-gray-800 text-2xl",onClick:C,children:"×"}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Wahlpflichtmodul hinzufügen"}),e.jsxs("p",{className:"mb-4",children:['Möchtest du das Modul "',l.name,'" zusätzlich belegen?']}),l.moduldatenbankUrl&&e.jsx("div",{className:"mb-6 text-center",children:e.jsx("a",{href:l.moduldatenbankUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Zur Moduldatenbank"})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:C,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Abbrechen"}),e.jsx("button",{onClick:p,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:"Bestätigen"})]})]})})]})};function Fe(){const{selectionStudy:r,selectionSemester:t}=a.useContext(A);return e.jsxs(e.Fragment,{children:[e.jsx(be,{}),e.jsx("div",{className:"overflow-y-auto md:overflow-hidden",style:{height:"calc(100vh - 72px)"},children:r?t?e.jsxs(ye,{children:[e.jsxs(J,{title:"Deine Kurse",children:[e.jsx(ke,{}),e.jsx(Te,{}),e.jsx(G,{}),e.jsx(_e,{}),e.jsx(G,{}),e.jsx(Oe,{})]}),e.jsx(J,{title:"Kalender",children:e.jsx(Ke,{})}),e.jsxs(ze,{children:[e.jsx(J,{title:"Webmail",children:e.jsx(Se,{})}),e.jsxs(J,{title:"Campusgeschehen",children:[e.jsx(De,{}),e.jsx(Ce,{}),e.jsx(G,{}),e.jsx(Ee,{}),e.jsx(Ae,{}),e.jsx(G,{}),e.jsx(Re,{})]})]})]}):e.jsx(ie,{}):e.jsx(ie,{})})]})}function Le(){return e.jsx(pe,{children:e.jsx(Fe,{})})}xe.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Le,{})}));
